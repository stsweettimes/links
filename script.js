const DATA_URL="./links.json",ANIMATION_DELAY_BASE=100,CLICK_ANIMATION_DURATION=120,PRESS_CLASS="is-pressing";async function init(){const e=document.getElementById("links-list");try{const n=await fetchData(DATA_URL);if(e.innerHTML="",!n||0===n.length)return void renderError(e,"No links found.");renderLinks(n,e),initPressFeedback(e)}catch(n){console.error("Initialization failed:",n),renderError(e,"Failed to load content.")}}async function fetchData(e){const n=await fetch(e);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}function renderLinks(e,n){const t=document.createDocumentFragment();e.forEach((e,n)=>{const i=createLinkButton(e,n);t.appendChild(i)}),n.appendChild(t)}function createLinkButton(e,n){const t=document.createElement("a");t.href=e.url,t.className="link-btn fade-in-up",t.style.animationDelay=`${n*ANIMATION_DELAY_BASE}ms`;const i=document.createElement("div");if(i.className="link-content",e.icon){const n=document.createElement("i");n.className=`${e.icon} link-icon`,i.appendChild(n)}const a=document.createElement("span");return a.className="link-text",a.textContent=e.text,i.appendChild(a),t.appendChild(i),t.addEventListener("click",n=>handleLinkClick(n,t,e.url)),t}function renderError(e,n){e.innerHTML=`<p style="text-align:center; opacity:0.7;">${n}</p>`}function initPressFeedback(e){e.addEventListener("pointerdown",e=>{const n=e.target.closest(".link-btn");n&&n.classList.add(PRESS_CLASS)});const n=e=>{const n=e.target.closest(".link-btn");n&&n.classList.remove(PRESS_CLASS)};e.addEventListener("pointerup",n),e.addEventListener("pointercancel",n),e.addEventListener("pointerleave",n)}function handleLinkClick(e,n,t){e.preventDefault(),n.classList.add(PRESS_CLASS),setTimeout(()=>{n.classList.remove(PRESS_CLASS),window.location.assign(t)},CLICK_ANIMATION_DURATION)}document.addEventListener("DOMContentLoaded",init),window.addEventListener("pageshow",()=>{document.querySelectorAll(`.${PRESS_CLASS}`).forEach(e=>e.classList.remove(PRESS_CLASS))});
